{% extends "base.html" %}

{% block title %}{{ warehouse.name }} - Warehouse Management{% endblock %}

{% block content %}
<h1>{{ warehouse.name }}</h1>

<div class="stock-info">
    <h2>Stock Information</h2>
    <p><strong>Capacity:</strong> {{ warehouse.varasto.tilavuus }}</p>
    <p><strong>Current Stock:</strong> {{ warehouse.varasto.saldo }}</p>
    <p><strong>Space Available:</strong> {{ warehouse.varasto.paljonko_mahtuu() }}</p>
    
    <div class="stock-bar">
        {% if warehouse.varasto.tilavuus > 0 %}
        <div class="stock-fill" style="width: {{ (warehouse.varasto.saldo / warehouse.varasto.tilavuus * 100)|int }}%"></div>
        {% else %}
        <div class="stock-fill" style="width: 0%"></div>
        {% endif %}
    </div>
</div>

<h2>Add Stock</h2>
<form action="{{ url_for('add_to_warehouse', warehouse_id=warehouse.id) }}" method="post" class="inline-form">
    <input type="number" name="amount" min="0" step="0.1" placeholder="Amount to add" required>
    <button type="submit" class="btn btn-success">Add</button>
</form>

<h2>Remove Stock</h2>
<form action="{{ url_for('remove_from_warehouse', warehouse_id=warehouse.id) }}" method="post" class="inline-form">
    <input type="number" name="amount" min="0" step="0.1" placeholder="Amount to remove" required>
    <button type="submit" class="btn btn-warning">Remove</button>
</form>

<div class="actions" style="margin-top: 20px;">
    <a href="{{ url_for('edit_warehouse', warehouse_id=warehouse.id) }}" class="btn btn-warning">Edit Warehouse</a>
    <form action="{{ url_for('delete_warehouse', warehouse_id=warehouse.id) }}" method="post" style="display:inline">
        <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this warehouse?')">Delete</button>
    </form>
</div>
{% endblock %}
